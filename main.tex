%!TEX options = --shell-escape
\documentclass[master]{thesis-uestc}
%\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{listings}
\lstset{
    basicstyle=\tt,
    %行号
    numbers=left,
    rulesepcolor=\color{red!20!green!20!blue!20},
    escapeinside=``,
    xleftmargin=2em,xrightmargin=2em, aboveskip=1em,
    %背景框
    framexleftmargin=1.5mm,
    frame=box,
    %背景色
    % backgroundcolor=\color[RGB]{245,245,244},
    %样式
    %keywordstyle=\color{blue}\bfseries,
    identifierstyle=\bf,
    %numberstyle=\color[RGB]{0,192,192},
    %commentstyle=\it\color[RGB]{96,96,96},
    %stringstyle=\rmfamily\slshape\color[RGB]{128,0,0},
    %显示空格
    showstringspaces=false
}
\lstset{basicstyle=\ttfamily,
  extendedchars=false,
  escapechar=`,
  language=C,
  %commentstyle=\color{red}
}
\title{基于GPU的SDN网络并行业务量工程算法研究}
\author{张骞}
\begin{document}
\thesistableofcontents
\thesischapterexordium
\section{研究背景与意义}
近几年被广泛研究的软件定义网络(Software Defined Network，SDN)[2]将网络的控制平面和数据平面分离开来，以集中的控制器视角为网络用户提供各种应用服务。SDN 是一种创新型的网络架构[3]，其目标是通过将数据平面和控制平面的分离来简化网络状态管理和控制，实现对网络应用服务的可编程性并逐步引导网络创新[4]。SDN将控制平面和数据平面相分离，SDN网络中的控制器负责对网络的控制和调度，同时控制器通过向上提供编程接口，使得网络控制规则可以根据不同的需求进行设计，使得网络的控制设计更加灵活，网络管理人员可以更方便的更新各种网络应用和服务，而无需关心底层的数据平面管理。SDN的底层数据平面将各种设备进行抽象简化，底层设备的数据流通过匹配控制器下发的流表规则来进行转发，和传统网络相比，大大简化了网络设备的功能，减小了网络成本。SDN控制器集中控制网络，控制器中包含有全网络的拓扑和链路资源信息，能够对网络流进行细粒度的调度，使得基于全局网络的负载均衡，路由优化，Qos保障等功能实现成为可能。

业务量工程（Traffic Engineering，TE，又被称为路由优化routing optimization ，RO）是指通过为业务选择合理的网络路由来达到充分利用网络资源，最小化网络代价，提高网络性能，满足Qos需要等目标的优化过程。在SDN网络下可以获得网络的全局拓扑和链路信息，可以细粒度的控制网络流的路由，使得网络管理者可以根据网络当前情况进行在线的路由优化，微软[1]和谷歌[1] 的实验结果证明，在SDN网络结构的数据中心网络中，路由优化能够在网络吞吐量和链路利用率上达到接近最优化性能的表现。
但是另一方面，SDN网络下中心控制的路由优化面临大规模计算问题，第一，随着网络应用的快速增加，在SDN 网络中短时间内可能会有大量业务到达控制器，所以控制平面必须短时间内为大量业务计算路由。第二，为了适应大业务量的加入，网络规模也快速增大([8][9]). 因此，对大量业务的快速和高效的业务量工程成为了一个重要却困难的问题。最后，SDN 技术使网络能够几乎满负荷运行[ 10 ]，这意味着一旦网络流量发生重大变化或者网络链路出现故障，SDN控制器需要立即重新进行路由优化，因此，对大网络下大量业务的快速和高效的路由优化成为了一个重要却困难的问题。

为了解决大规模计算问题，缩短计算时间，设计高效的并行算法是一种常见的解决思路，另外，由于业务量工程中大量业务之间的路由计算是相互独立的，为并行路由优化算法的设计提供了可能性。同时，现今出现的商业服务器具有多核CPU 和强大的GPU 为并行算法提供了一种低成本、高性能的计算环境，尤其是GPU，他具有大量的计算单元，现今的GPU能够支持上千个线程同时的调度执行，具有强大的并行计算能力。

GPGPU(General Purpose programming on GPU)是指利用GPU进行通用计算（而不仅仅是图形学）的算法设计思想，为了简化GPU的通用程序设计模式，2007 年，Nvidia 发布了一种新的的GPU 编程模型CUDA( Compute Unified Device Ar-chitecture)[11],与传统的GPU通用计算开发方式相比，CUDA编程更简单，功能更强大，应用领域更广泛，支持CUDA的硬件性能更强。随着GPU的硬件计算能力的提高和CUDA 在通用计算中发挥出的越来越强大的性能，利用GPU来加速并行算法成为一个研究热点[]。
结合SDN网络中业务量工程中的可并行性质和GPU强大的通用并行计算能力，设计高效的基于GPU的并行业务量工程算法能够大大提高业务量工程计算时间，具有很重要的研究意义。
\section{国内外研究现状}
过去十年间，随着互联网中的网络流量的快速增加，路由优化得到了大量的研究，论文[16]-[18]对路由优化问题的研究进行了详尽的综述。大部分情况下路由优化问题是一个NP难问题[][]，大量启发式算法[][]被提出来近视解决这类路由优化问题。然而，这些算法基本上都是串行算法，在大网络和大业务量的情况下，在CPU上实现这些算法需要几分钟甚至是几个小时[][][]。由于执行时间较长，这些路由优化算法仅作为离线工具使用[]。为了减少计算时间，多篇论文[],[]研究了分布式的路由优化算法，在分布式的路由优化模型中，假设每个业务有一系列的备选路径，业务将总流量分配到各个路径上，各个路径上所承载的流量根据路径上的链路容量情况实时进行调整。然而分布式的路由优化问题依赖于精确实时的网络状态信息，而且在实际实现中收敛较慢。

另一方面，过去十年，GPU的计算能力得到大幅度提高，GPU通用计算模型得到大力发展[][],GPU的理论计算能力提高速度大大高于GPU 的计算能力提高速度[]。因此，许多基于GPU的并行算法被提出来求解整数的优化问题，比如说旅行商问题[],路线规划问题[],最短路问题[],[]，最小生成树问题[]，现存的研究[]-[]表明基于GPU的并行算法可以比基于CPU的算法快几十倍以上。

 现今，并行路由优化算法研究较少，[][]对路由优化问题提出了并行的算法，在论文[]中，作者为alpha公平路由优化问题提出一种很适合在FPGA和GPU上实现并行的算法，为了达到alpha公平的目标,论文假设一个业务需求需要被分到多条路径上，但是这个假设在实际中很难实现，这是因为，第一，如果业务流是细粒度的流（TCP/UDP）,把业务分到不同的路径将导致网络数据包的乱序传递。第二，SDN网络需要使用更多的流表规则来将聚合的流分离到不同的路径，但是SDN上的流表匹配资源TCAM是有限的，分拆流将可能因为TCAM不足而变得不可行。第三，仅仅通过添加一系列流表规则来细粒度地分割流量是很难实现的。在论文[]中提出一种基于GPU加速的遗传算法来加速路由优化问题，其目标函数是最小化最大链路利用率。

 在SDN弹性光网络中的路由优化更加复杂，他需要同时考虑RSA问题，RSA问题的细节将在第4 章进行介绍，拒本人所知，暂时还没有在弹性光网络中利用GPU来进行并行优化的研究。
\section{论文内容及结构安排}
本文各个章节的内容如下：
    第一章简要介绍了SDN网络下的并行业务量工程的研究现状和意义。

    第二章简略介绍了GPU的相关基础原理，包括GPU架构和CUDA编程模型，以帮助理解第三，第四章的GPU程序设计思路。

    第三章 首先提出了一个新的路由优化目标，改进了传统的基于最小化最大链路利用率的优化目标，其次，采用备选路径模型设计遗传算法，并设计了这个遗传算法的GPU并行版本对目标函数进行优化，然后，采用基于lagrange松弛的模型，设计基于lagrange乘子法的迭代优化算法，并把算法转化为一系列的多业务路由问题，对多业务的路由问题设计基于GPU的并行算法进行加速。最终将遗传算法结果和基于Lagrange乘子法的结果和Cplex结果进行实验比较。

    第四章 首先介绍SDN弹性光网络下的RSA问题，分析在RSA问题的约束下进行路由优化的分层图模型，并且针对分层图模型设计路由优化算法方案。分别在无权图和有权图两种情况下设计了分层图上带跳限约束的基于GPU的并行路由算法来加速这个方案。最终实验分析了算法的优化结果。
\include{chapters/c1}
\include{chapters/c2}
\include{chapters/c3}
\end{document}
